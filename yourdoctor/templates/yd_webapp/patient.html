{% extends 'yd_webapp/userbase.html' %}
{% load staticfiles %}

{% block title_block %}
    Account
{% endblock %}

{% block body_block %}

     {% if messages %}
        <script>
            {% for msg in messages %}
                alert('{{msg.message}}');
            {% endfor %}
        </script>
    {% endif %}

<div class="row">
<div class="column side">
  <h2>Account</h2>
  {% if request.session.is_login %}
<div class="card" style="width: 18rem;">
    <img src="{% static 'icon/hospital.png' %}" class="card-img-top" alt="icon of hospital">
    <div class="card-body">
      <h5 class="card-title">Name: {{ request.session.user_name }}
      <h5 class="card-title">Gender: {{ request.session.user_gender }}
      <h5 class="card-title">Age: {{ request.session.user_age }}
      <h5 class="card-title">Address: {{ request.session.user_address }}
      <h5 class="card-title">Phone: {{ request.session.user_phone }}

      <br/><br/><a href="{% url 'yd_webapp:logout' %}" class="btn btn-primary">Logout</a>
      
<!--另一个问题是将变化的超链放入该处a tag，理论可行，但是得先完成url的设置-->
    </div>
    {% else %}
    <a href="{% url 'yd_webapp:login' %}">login</a>
    <a href="{% url 'yd_webapp:register' %}">sign up</a>
    {% endif %}
  </div>
</div>

<div class="column body">
  <h2>Functions</h2>
    <a href="/yd_webapp/booking/" class="link button">Appointment</a>
    <a href="/yd_webapp/message/" class="link button">Message</a>
    <a href="/yd_webapp/feedback_page/" class="link button">Feedback</a>
</div>

</div>
{% endblock %}
